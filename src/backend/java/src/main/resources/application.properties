# SAMS Java Backend Configuration - REAL PostgreSQL JDBC Integration (With H2 fallback for testing)
# Server Configuration
server.port=5002
server.servlet.context-path=/api
spring.application.name=SAMS Java Backend

# Production PostgreSQL Database Configuration (Primary)
# Uncomment these lines when PostgreSQL is properly configured:
# spring.datasource.url=jdbc:postgresql://localhost:5432/sams_db
# spring.datasource.username=postgres
# spring.datasource.password=admin123
# spring.datasource.driver-class-name=org.postgresql.Driver
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# H2 In-Memory Database Configuration (Fallback for immediate testing with real API integration)
spring.datasource.url=jdbc:h2:mem:samsdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# HikariCP Connection Pool Configuration for Production
spring.datasource.hikari.maximum-pool-size=30
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.leak-detection-threshold=60000

# JPA/Hibernate Configuration for Real Database
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=25
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Real Database Initialization
spring.sql.init.mode=always
spring.sql.init.continue-on-error=true

# Security Configuration
sams.jwt.secret=SAMSSecureJWTSecretKey2024ForServerMonitoring
sams.jwt.expiration=86400000

# CORS Configuration
sams.cors.allowed-origins=http://localhost:3000,http://localhost:8081,http://localhost:5000,http://localhost:5003
sams.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
sams.cors.allowed-headers=*

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.endpoint.metrics.enabled=true
management.metrics.export.prometheus.enabled=true

# Real-time monitoring configuration
sams.monitoring.real-time.enabled=true
sams.monitoring.real-time.interval=30000
sams.monitoring.real-time.timeout=5000
sams.monitoring.health-check.retry-count=3
sams.monitoring.health-check.retry-delay=1000

# Async configuration for real-time operations
spring.task.execution.pool.core-size=4
spring.task.execution.pool.max-size=8
spring.task.execution.pool.queue-capacity=25
spring.task.execution.thread-name-prefix=sams-realtime-

# Enhanced CORS configuration for mobile and web integration
sams.cors.allowed-origins=http://localhost:3000,http://localhost:8083,http://localhost:19000,http://localhost:8081,http://localhost:5000,http://localhost:5003
sams.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
sams.cors.allowed-headers=*
sams.cors.allow-credentials=true

# Real-time metrics retention
sams.metrics.retention.hours=72
sams.metrics.cleanup.interval=3600000

# Client's Cloud API Integration Configuration
spring.config.import=optional:cloud-api-config.properties

# Cloud API Integration Settings
sams.cloud.api.enabled=true
sams.cloud.api.detailed-view=true
sams.cloud.api.real-time-sync=true
sams.cloud.api.providers=aws,azure,gcp,custom

# Server Details Display Configuration  
sams.server.details.comprehensive=true
sams.server.details.include-cloud-metrics=true
sams.server.details.include-configuration=true
sams.server.details.include-logs=true
sams.server.details.include-health-status=true

# Mobile App Server Detail Integration
sams.mobile.server-details.enabled=true
sams.mobile.server-details.auto-refresh=30000
sams.mobile.server-details.detailed-metrics=true

# Logging Configuration
logging.level.com.sams=DEBUG
logging.level.org.springframework.security=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# API Documentation
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
